<%- include("includes/head.ejs", {isAdmin: isAdmin})%>
<main>
  <div class="header-project-container">
    <h2>Editar Proyecto</h2>
  </div>

  <% if (successMsg.length > 0) { %>
  <div class="alert success"><%= successMsg %></div>
  <% } %> <% if (errorMsg.length > 0) { %>
  <div class="alert fail"><%= errorMsg %></div>
  <% } %>

  <form
    action="/post-edit-project"
    method="post"
    class="register-project-container"
    onsubmit="return validateEditProjectForm()"
  >
    <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
    <input type="hidden" name="IDProyecto" value="<%= project[0].IDProyecto %>" />
    <input type="hidden" name="IDCliente" value="<%= project[1].IDCliente %>" />
    <div class="project-row">
      <div class="project-column">
        <div class="form-group">
          <h3>Datos del Proyecto</h3>
        </div>

        <div class="form-group">
            <label for="tipoProyecto">Tipo de Proyecto:</label>
            <select id="tipoProyecto" name="tipoProyecto" required>
              <option value="" disabled <%= !project[0].Tipo ? "selected" : "" %>>Seleccione una opción</option>
              <option value="Aplicación Web" <%= project[0].Tipo === "Aplicación Web" ? "selected" : "" %>>Aplicación Web</option>
              <option value="Aplicación Móvil" <%= project[0].Tipo === "Aplicación Móvil" ? "selected" : "" %>>Aplicación Móvil</option>
              <option value="Diseño" <%= project[0].Tipo === "Diseño" ? "selected" : "" %>>Diseño</option>
            </select>
        </div>

        <div class="form-group">
          <label for="nombreProyecto">Nombre del Proyecto:</label>
          <input
            type="text"
            id="nombreProyecto"
            name="nombreProyecto"
            placeholder="Ingresa el nombre"
            value="<%= project[0].Nombre %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="fechaInicio">Fecha de Inicio:</label>
          <input
            type="date"
            id="fechaInicio"
            name="fechaInicio"
            value="<%= project[0].FechaInicio %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="fechaFin">Fecha de Fin:</label>
          <input
            type="date"
            id="fechaFin"
            name="fechaFin"
            value="<%= project[0].FechaFinal %>"
            required
          />
        </div>
      </div>

      <div class="project-column">
        <div class="form-group">
          <h3>Datos del cliente</h3>
        </div>

        <div class="form-group">
          <label for="nombreCliente">Nombre:</label>
          <input
            type="text"
            id="nombreCliente"
            name="nombreCliente"
            placeholder="Ingresa el nombre"
            value="<%= project[1].Nombre %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="emailCliente">Email:</label>
          <input
            type="email"
            id="emailCliente"
            name="emailCliente"
            placeholder="Ingresa email"
            value="<%= project[1].CorreoElectronico %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="telefonoCliente">Teléfono:</label>
          <input
            type="tel"
            id="telefonoCliente"
            name="telefonoCliente"
            value="<%= project[1].Telefono %>"
            placeholder="Ingresa telefono"
          />
        </div>

        <div class="form-group">
          <label for="descripcionCliente">Descripcion:</label>
          <input
            type="text"
            id="descripcionCliente"
            name="descripcionCliente"
            value="<%= project[1].Descripcion %>"
            placeholder="Ingresa una descripcion"
          />
        </div>
      </div>
    </div>
    <div class="save-container">
      <a href="/">
        <div class="back-container">
          <i class="fa-solid fa-chevron-left"></i>
          <p>Atrás</p>
        </div>
      </a>
      <button type="submit">Guardar</button>
    </div>
  </form>
</main>
<%- include("includes/foot.ejs")%>
